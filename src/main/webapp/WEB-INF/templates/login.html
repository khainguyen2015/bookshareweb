<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" 
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
        layout:decorate="~{layouts/default}">
    <head>
        <meta name="google-signin-scope" content="profile email">
        <meta name="google-signin-client_id" content="924849780106-r6pg7f84voodmhnej6a2u8q3o3dgsgev.apps.googleusercontent.com">
        <title>Book Share</title>
    </head>
    <body>
        <th:block layout:fragment="header" th:include="layouts/header :: headerFragment">
        </th:block>
        <div layout:fragment="content" class="container" style="margin-top:100px">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 min-vh-100 d-flex flex-column justify-content-center">
                        <div class="row">
                            <div class="col-lg-6 col-md-8 mx-auto">
                                <!-- form card login -->
                                <div class="card rounded shadow shadow-sm">
                                    <div class="card-header text-center">
                                        <h3 class="mb-0">Đăng nhập</h3>
                                    </div>
                                    <div class="card-body">

                                        <th:block layout:fragment="messages" th:include="layouts/message :: messageFragment">
                                        </th:block>
                                        
                                        <form th:action="@{/login}" class="form" role="form" autocomplete="off" id="formLogin" method="POST">

                                            <div class="form-group">
                                                <label for="username" class="control-label">Tên Đăng Nhập</label>
                                                <input id="username" type="text" class="form-control" name="username" 
                                                    value="" required autofocus>                             
                                            </div>
                                            <div class="form-group">
                                                <label for="password" class="control-label">Mật Khẩu</label>
                                                <input id="password" type="password" class="form-control" name="password" required>                         
                                            </div>
                                            <div class="form-group form-check">
                                                <label class="form-check-label">
                                                    <input id="remember_me" name="remember-me" class="form-check-input" type="checkbox"> Remember me
                                                </label>
                                            </div>
                                            <button type="submit" class="btn btn-primary" id="btnLogin">Đăng nhập</button>
                                        </form>
                                    </div>
                                    <!--/card-block-->
                                </div>
                                <!-- /form card login -->
                            </div>
                        </div>

                        <div class="row justify-content-center">
                            <a class="btn btn-link" th:href="@{/register}" style="text-transform:none; text-decoration: none;">
                                Lần đầu đến Chia Sẻ Sách? Đăng ký tại đây.
                            </a>
                        </div>
                        <div class="row justify-content-center">
                            <div class="center-align">
                                <a class="d-inline-flex btn white black-text clearfix border shadow bg-white rounded" th:href="@{/login-with-google}" style="text-transform:none;">
                                    <div class="float-left" style="padding: 5px;">
                                        <img width="20px"alt="Google sign-in" 
                                            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png" />
                                    </div>
                                    <span class="align-middle" style="margin-top: 5px;">Login with Google</span>
                                </a>
                            </div>
                        </div>
                       <!--  <div id="signinButton" class="g-signin2 row justify-content-center" data-theme="dark" data-redirecturi="http://localhost:8080/BookShareWeb/login-with-google" data-accesstype="offline"></div> -->
                        <!--/row-->
                    </div>
                <!--/col-->
                </div>
            <!--/row-->
            </div>
        </div>
    </body>
    <th:block layout:fragment="scripts">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
<!--     <script src="https://apis.google.com/js/client:platform.js?onload=start" async defer></script>
    <script>
        function start() {
          gapi.load('auth2', function() {
            auth2 = gapi.auth2.init({
              client_id: '924849780106-r6pg7f84voodmhnej6a2u8q3o3dgsgev.apps.googleusercontent.com',
              // Scopes to request in addition to 'profile' and 'email'
              scope: 'profile email'
            });
          });
        }
    </script>
    <script>
        function signInCallback(authResult) {
            if (authResult['code']) {
                console.log(authResult['code'])
                window.location.replace("http://localhost:8080/BookShareWeb/login-google?code=" + authResult['code']);
            }
        }
    </script> -->
    <!-- <script>
        $('#signinButton').click(function() {
           window.location.replace("http://localhost:8080/BookShareWeb/login-with-google");
        });
    </script> -->

    </th:block>
</html>
